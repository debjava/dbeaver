<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<!--
  ~ Copyright (c) 2010, Serge Rieder and others. All Rights Reserved.
  -->

<plugin>

    <extension
        point="org.eclipse.help.contexts">
        <contexts
            file="contexts.xml">
        </contexts>
    </extension>
    <extension
        point="org.jkiss.dbeaver.dataSourceProvider">
        <datasource
              class="org.jkiss.dbeaver.ext.generic.GenericDataSourceProvider"
              description="Generic JDBC connector"
              id="generic"
              label="Generic">
            <tree path="generic" label="Generic data source">
                <icon icon="icons/tree/connection_disabled.png" default="true"/>
                <icon icon="icons/tree/connection_enabled.png" if="object.connected"/>

                <items label="Catalog" path="catalog" property="catalogs" iconId="#catalog" optional="true">
                    <items label="Schema" path="schema" property="schemas" iconId="#schema" optional="true">
                        <folder type="org.jkiss.dbeaver.model.struct.DBSTable" label="Tables" iconId="#tables" description="Tables">
                            <items label="Table" path="table" property="tables">
                                <icon iconId="#table" default="true"/>
                                <icon iconId="#view" if="object.view"/>
                                <folder type="org.jkiss.dbeaver.model.struct.DBSTableColumn" label="Columns" iconId="#columns" description="Table columns">
                                    <items label="Column" path="column" property="columns" iconId="#column">
                                    </items>
                                </folder>
                                <folder type="org.jkiss.dbeaver.model.struct.DBSIndex" label="Indexes" iconId="#indexes" description="Table indexes">
                                    <items label="Index" path="index" property="indexes" iconId="#index">
                                        <items label="Index columns" path="column" property="columns" navigable="false" iconId="#column">
                                        </items>
                                    </items>
                                </folder>
                                <folder type="org.jkiss.dbeaver.model.struct.DBSConstraint" label="Unique Keys" iconId="#constraints" description="Table unique keys">
                                    <items label="Unique Key" path="uniqueKey" property="uniqueKeys" iconId="#unique-key">
                                        <items label="Unique key columns" itemLabel="Column" path="column" property="columns" navigable="false">
                                        </items>
                                    </items>
                                </folder>
                                <folder type="org.jkiss.dbeaver.model.struct.DBSForeignKey" label="Foreign Keys" iconId="#foreign-keys" description="Table foreign keys">
                                    <items label="Foreign Key" path="foreignKey" property="foreignKeys" iconId="#foreign-key">
                                        <items label="Foreign key columns" itemLabel="Column" path="column" property="columns" navigable="false">
                                        </items>
                                    </items>
                                </folder>
                                <folder type="org.jkiss.dbeaver.model.struct.DBSConstraint" label="References" iconId="#references" description="Table references">
                                    <items label="Reference" path="reference" property="references" iconId="#reference">
                                        <items label="Reference columns" itemLabel="Column" path="column" property="columns" navigable="false">
                                        </items>
                                    </items>
                                </folder>
                                <items label="Sub-table" optional="true" path="subtable" property="subTables" iconId="#table" recursive="..">
                                </items>
                            </items>
                        </folder>
                        <folder type="org.jkiss.dbeaver.model.struct.DBSIndex" label="Indexes" iconId="#indexes" description="Indexes">
                            <items iconId="#index" label="Index" path="index" property="indexes" virtual="true">
                                <items iconId="#column" label="Index columns" itemLabel="Column" path="column" property="columns" navigable="false" virtual="true">
                                </items>
                            </items>
                        </folder>
                        <folder type="org.jkiss.dbeaver.model.struct.DBSProcedure" label="Procedures" iconId="#procedures" description="Procedures">
                            <items label="Procedure" path="procedure" property="procedures" iconId="#procedure">
                                <items label="Procedure columns" itemLabel="Column" path="column" property="columns" navigable="false">
                                </items>
                            </items>
                        </folder>
                    </items>
                </items>
            </tree>
            <drivers managable="true">
                <driver
                    id="postgresql"
                    label="PostgreSQL"
                    class="org.postgresql.Driver"
                    sampleURL="jdbc:postgresql://{host}[:{port}]/[{database}]"
                    webURL="http://postgresql.org"
                    description="PostgreSQL standard driver">
                    <library path="drivers/postgresql-8.4-701.jdbc4.jar"/>
                </driver>
                <driver
                    id="oracle"
                    label="Oracle"
                    class="oracle.jdbc.OracleDriver"
                    sampleURL="jdbc:oracle:thin:@{host}[:{port}]:{database}"
                    webURL="http://oracle.com"
                    description="Oracle thin driver">
                    <library path="drivers/ojdbc14.jar"/>
                    <query label="GET_ACTIVE_DB">select sys_context( 'userenv', 'current_schema' ) from dual</query>
                    <query label="SET_ACTIVE_DB">alter session set current_schema=?</query>
                </driver>
                <driver
                    id="db2"
                    label="DB2"
                    class="com.ibm.db2.jcc.DB2Driver"
                    sampleURL="jdbc:db2://{host}[:{port}]/{database}"
                    webURL="www.ibm.com/software/data/db2/ad/java.html"
                    description="DB2 JCC driver">
					<library path="drivers/db2jcc.jar"/>
					<library path="drivers/db2jcc_license_cu.jar"/>
                </driver>
                <driver
                    id="mssql"
                    label="MS SQL Server"
                    class="com.microsoft.sqlserver.jdbc.SQLServerDriver"
                    sampleURL="jdbc:sqlserver://{host}[:{port}][;DatabaseName={database}]"
                    webURL="http://microsoft.com"
                    description="MS SQL Server standard driver">
                    <query label="GET_ACTIVE_DB">select db_name()</query>
                    <query label="SET_ACTIVE_DB">use ?</query>
                    <library path="drivers/sqljdbc4.jar"/>
                </driver>
                <driver
                    id="odbc"
                    label="ODBC"
                    class="sun.jdbc.odbc.JdbcOdbcDriver"
                    sampleURL="jdbc:odbc:{database}"
                    webURL="http://sun.com"
                    description="ODBC bridge driver">
                </driver>
            </drivers>
            <views>
                <view
                    id="org.jkiss.dbeaver.ext.generic.dataSourceWizardView"
                    targetID="org.jkiss.dbeaver.ext.ui.newConnectionWizard"
                    label="Generic JDBC Connection Settings"
                    class="org.jkiss.dbeaver.ext.generic.views.ConnectionEditorPage"
                    icon="icons/database.gif">
                </view>
                <view
                      class="org.jkiss.dbeaver.ext.generic.views.ConnectionEditorPage"
                      icon="icons/database.gif"
                      id="org.jkiss.dbeaver.ext.generic.dataSourceEditorView"
                      label="Generic JDBC Connection Settings"
                      targetID="org.jkiss.dbeaver.ext.ui.editConnectionDialog">
                </view>
            </views>
        </datasource>
    </extension>

</plugin>
