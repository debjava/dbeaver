<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>

<!--
  ~ Copyright (c) 2011, Serge Rieder and others. All Rights Reserved.
  -->

<plugin>
    <extension-point id="org.jkiss.dbeaver.dataSourceProvider" name="DataSource provider" schema="schema/org.jkiss.dbeaver.dataSourceProvider.exsd"/>
    <extension-point id="org.jkiss.dbeaver.databaseEditor" name="Custom Entity Editor" schema="schema/org.jkiss.dbeaver.databaseEditor.exsd"/>
    <extension-point id="org.jkiss.dbeaver.dataTypeProvider" name="DataType provider" schema="schema/org.jkiss.dbeaver.dataTypeProvider.exsd"/>
    <extension-point id="org.jkiss.dbeaver.dataExportProvider" name="Data Export Provider" schema="schema/org.jkiss.dbeaver.dataExportProvider.exsd"/>
    <extension-point id="org.jkiss.dbeaver.dataFormatter" name="Data Formatters" schema="schema/org.jkiss.dbeaver.dataFormatter.exsd"/>
    <extension-point id="org.jkiss.dbeaver.resourceHandler" name="Resource Handlers" schema="schema/org.jkiss.dbeaver.resourceHandler.exsd"/>

    <extension point="org.eclipse.core.contenttype.contentTypes">
        <content-type
                base-type="org.eclipse.core.runtime.text"
                default-charset="utf-8"
                file-extensions="sql"
                id="org.jkiss.dbeaver.core.content-type-sql"
                name="SQL"
                priority="normal">
        </content-type>
    </extension>

    <extension id="application" point="org.eclipse.core.runtime.applications">
        <application visible="true">
            <run class="org.jkiss.dbeaver.core.DBeaverApplication"/>
        </application>
    </extension>

    <extension point="org.eclipse.core.expressions.propertyTesters">
        <propertyTester
                class="org.jkiss.dbeaver.ui.actions.DataSourcePropertyTester"
                id="org.jkiss.dbeaver.ui.actions.DataSourcePropertyTester"
                namespace="org.jkiss.dbeaver.core.datasource"
                properties="connected,transactional"
                type="org.jkiss.dbeaver.model.struct.DBSDataSourceContainer">
        </propertyTester>
        <propertyTester
                class="org.jkiss.dbeaver.ui.actions.ObjectPropertyTester"
                id="org.jkiss.dbeaver.ui.actions.ObjectPropertyTester"
                namespace="org.jkiss.dbeaver.core.object"
                properties="canCreate,canPaste,canDelete,canRename"
                type="org.jkiss.dbeaver.model.navigator.DBNNode">
        </propertyTester>
        <propertyTester
                class="org.jkiss.dbeaver.ui.actions.ResourcePropertyTester"
                id="org.jkiss.dbeaver.ui.actions.ResourcePropertyTester"
                namespace="org.jkiss.dbeaver.core.resource"
                properties="canOpen,canDelete,canCreateFolder,canSetActive"
                type="org.eclipse.core.resources.IResource">
        </propertyTester>
        <propertyTester
                class="org.jkiss.dbeaver.ui.editors.DatabaseEditorPropertyTester"
                id="org.jkiss.dbeaver.ui.editors.DatabaseEditorPropertyTester"
                namespace="org.jkiss.dbeaver.database.editor"
                properties="active"
                type="org.jkiss.dbeaver.ext.IDatabaseEditor">
        </propertyTester>
        <propertyTester
                class="org.jkiss.dbeaver.ui.editors.sql.SQLEditorPropertyTester"
                id="org.jkiss.dbeaver.ui.editors.sql.SQLEditorPropertyTester"
                namespace="org.jkiss.dbeaver.ui.editors.sql"
                properties="canExecute,canExplain"
                type="org.jkiss.dbeaver.ui.editors.sql.SQLEditor">
        </propertyTester>
        <propertyTester
                class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetPropertyTester"
                id="org.jkiss.dbeaver.ui.controls.resultset.ResultSetPropertyTester"
                namespace="org.jkiss.dbeaver.core.resultset"
                properties="canMove,editable,changed"
                type="org.jkiss.dbeaver.ui.controls.lightgrid.LightGrid">
        </propertyTester>
        <propertyTester
                class="org.jkiss.dbeaver.ui.editors.entity.EntityEditorPropertyTester"
                id="org.jkiss.dbeaver.ui.editors.entity.EntityEditorPropertyTester"
                namespace="org.jkiss.dbeaver.ui.editors.entity"
                properties="dirty,canUndo,canRedo"
                type="org.jkiss.dbeaver.ui.editors.entity.EntityEditor">
        </propertyTester>

    </extension>
    <extension point="org.eclipse.ui.views">
        <category id="org.jkiss.dbeaver.core.category" name="DBeaver Core View Category"/>
        <view
                id="org.jkiss.dbeaver.core.databaseNavigator"
                category="org.jkiss.dbeaver.core.category"
                class="org.jkiss.dbeaver.ui.views.navigator.database.DatabaseNavigatorView"
                allowMultiple="false"
                icon="icons/database_navigator.png"
                name="Databases">
        </view>
        <view
                id="org.jkiss.dbeaver.core.projectNavigator"
                category="org.jkiss.dbeaver.core.category"
                class="org.jkiss.dbeaver.ui.views.navigator.project.ProjectNavigatorView"
                allowMultiple="false"
                icon="icons/projects.png"
                name="Projects">
        </view>
        <view
                id="org.jkiss.dbeaver.core.projectExplorer"
                category="org.jkiss.dbeaver.core.category"
                class="org.jkiss.dbeaver.ui.views.navigator.project.ProjectExplorerView"
                allowMultiple="false"
                icon="icons/scripts.png"
                name="Project Explorer">
        </view>
        <view
                id="org.jkiss.dbeaver.core.queryManager"
                category="org.jkiss.dbeaver.core.category"
                class="org.jkiss.dbeaver.ui.views.qm.QueryManagerView"
                allowMultiple="false"
                icon="icons/misc/sql.png"
                name="Query Manager">
        </view>
        <view
                id="org.jkiss.dbeaver.core.findObjects"
                category="org.jkiss.dbeaver.core.category"
                class="org.jkiss.dbeaver.ui.views.search.SearchObjectsView"
                allowMultiple="true"
                icon="icons/misc/find.png"
                name="Search">
        </view>
        <!--stickyView id="org.jkiss.dbeaver.core.findObjects" closeable="true" moveable="true" location="TOP"/-->

    </extension>

    <extension point="org.eclipse.ui.commands">
        <category id="org.jkiss.dbeaver.core.navigator" name="Database Navigator" description="Database Navigator Commands"/>
        <category id="org.jkiss.dbeaver.core.database" name="Connection" description="Database Connection Commands"/>
        <category id="org.jkiss.dbeaver.core.util" name="Utility" description="Utility Commands"/>
        <category id="org.jkiss.dbeaver.core.sql" name="SQL Editor" description="SQL Editor Commands"/>
        <category id="org.jkiss.dbeaver.core.rs" name="Result Set" description="Result Set Commands"/>

        <command id="org.jkiss.dbeaver.core.driver.manager" name="Driver Manager" description="Driver Manager" categoryId="org.jkiss.dbeaver.core.navigator"/>
        <command id="org.jkiss.dbeaver.core.new.connection" name="New Connection" description="New Connection Wizard" categoryId="org.jkiss.dbeaver.core.navigator"/>
        <command id="org.jkiss.dbeaver.core.navigator.linkeditor" name="Link with editor" description="Link with editor" categoryId="org.jkiss.dbeaver.core.navigator"/>
        <command id="org.jkiss.dbeaver.core.navigator.set.active" name="Set active object" description="Set active object" categoryId="org.jkiss.dbeaver.core.navigator"/>

        <command id="org.jkiss.dbeaver.core.project.create" name="Create Project" description="Create new project" categoryId="org.jkiss.dbeaver.core.navigator"/>
        <command id="org.jkiss.dbeaver.core.project.refresh" name="Refresh Projects" description="Refresh entire workspace" categoryId="org.jkiss.dbeaver.core.navigator"/>
        <command id="org.jkiss.dbeaver.core.project.active" name="Set Active Project" description="Set active project" categoryId="org.jkiss.dbeaver.core.navigator"/>
        <command id="org.jkiss.dbeaver.core.resource.create.folder" name="Create New Folder" description="Create new folder" categoryId="org.jkiss.dbeaver.core.navigator"/>

        <command id="org.jkiss.dbeaver.core.connect" name="Connect" description="Connect to database" categoryId="org.jkiss.dbeaver.core.database"/>
        <command id="org.jkiss.dbeaver.core.disconnect" name="Disconnect" description="Disconnect from database" categoryId="org.jkiss.dbeaver.core.database"/>
        <command id="org.jkiss.dbeaver.core.invalidate" name="Invalidate" description="Invalidate database connection" categoryId="org.jkiss.dbeaver.core.database"/>
        <command id="org.jkiss.dbeaver.core.commit" name="Commit changes" description="Commit changes in SQL Session" categoryId="org.jkiss.dbeaver.core.database"/>
        <command id="org.jkiss.dbeaver.core.rollback" name="Rollback changes" description="Rollback changes in SQL Session" categoryId="org.jkiss.dbeaver.core.database"/>
        <command id="org.jkiss.dbeaver.core.txn.autocommit" name="Transactional mode" description="Changes transactional mode of active session" categoryId="org.jkiss.dbeaver.core.database"/>

        <command id="org.jkiss.dbeaver.core.new.sql.editor" name="Open SQL Editor" description="Open SQL Editor" categoryId="org.jkiss.dbeaver.core.database"/>
        <command id="org.jkiss.dbeaver.core.object.open" name="Edit Object" description="Open object editor" categoryId="org.jkiss.dbeaver.core.database"/>
        <command id="org.jkiss.dbeaver.core.object.create" name="Create Object" description="Create new database object" categoryId="org.jkiss.dbeaver.core.database"/>
        <command id="org.jkiss.dbeaver.core.object.delete" name="Delete Object" description="Delete database object" categoryId="org.jkiss.dbeaver.core.database"/>
        <command id="org.jkiss.dbeaver.core.object.find" name="Search" description="Search for objects" categoryId="org.jkiss.dbeaver.core.database"/>

        <command id="org.jkiss.dbeaver.ui.editors.sql.run.statement" name="Execute SQL Statement" description="Execute Statement" categoryId="org.jkiss.dbeaver.core.sql"/>
        <command id="org.jkiss.dbeaver.ui.editors.sql.run.script" name="Execute SQL Script" description="Execute Script" categoryId="org.jkiss.dbeaver.core.sql"/>
        <command id="org.jkiss.dbeaver.ui.editors.sql.run.explain" name="Explain execution plan" description="Explain execution plan" categoryId="org.jkiss.dbeaver.core.sql"/>
        <command id="org.jkiss.dbeaver.ui.editors.sql.run.validate" name="Validate query" description="Validate active query" categoryId="org.jkiss.dbeaver.core.sql"/>
        <command id="org.jkiss.dbeaver.ui.editors.sql.run.analyse" name="Analyse query" description="Analyse active query" categoryId="org.jkiss.dbeaver.core.sql"/>
        <command id="org.jkiss.dbeaver.ui.editors.sql.open.file" name="Load SQL script" description="Load from file" categoryId="org.jkiss.dbeaver.core.sql"/>
        <command id="org.jkiss.dbeaver.ui.editors.sql.save.file" name="Save SQL script" description="Save to file" categoryId="org.jkiss.dbeaver.core.sql"/>
        <command id="org.jkiss.dbeaver.core.export.data" name="Export data" description="Export data to file(s)" categoryId="org.jkiss.dbeaver.core.util"/>

        <command id="org.jkiss.dbeaver.core.resultset.toggleMode" name="Toggle Grid/Record view" description="Toggle Result Set Grid/Record View" categoryId="org.jkiss.dbeaver.core.rs"/>
        <command id="org.jkiss.dbeaver.core.resultset.row.first" name="First row" description="Move to first row" categoryId="org.jkiss.dbeaver.core.rs"/>
        <command id="org.jkiss.dbeaver.core.resultset.row.previous" name="Previous row" description="Move to previous row" categoryId="org.jkiss.dbeaver.core.rs"/>
        <command id="org.jkiss.dbeaver.core.resultset.row.next" name="Next row" description="Move to next row" categoryId="org.jkiss.dbeaver.core.rs"/>
        <command id="org.jkiss.dbeaver.core.resultset.row.last" name="Last row" description="Move to last row" categoryId="org.jkiss.dbeaver.core.rs"/>
        <command id="org.jkiss.dbeaver.core.resultset.row.edit" name="Edit cell" description="Edit cell" categoryId="org.jkiss.dbeaver.core.rs"/>
        <command id="org.jkiss.dbeaver.core.resultset.row.add" name="Add row" description="Add new row" categoryId="org.jkiss.dbeaver.core.rs"/>
        <command id="org.jkiss.dbeaver.core.resultset.row.copy" name="Copy row" description="Copy current row" categoryId="org.jkiss.dbeaver.core.rs"/>
        <command id="org.jkiss.dbeaver.core.resultset.row.delete" name="Delete current row" description="Delete current row" categoryId="org.jkiss.dbeaver.core.rs"/>
        <command id="org.jkiss.dbeaver.core.resultset.applyChanges" name="Apply changes" description="Apply data changes" categoryId="org.jkiss.dbeaver.core.rs"/>
        <command id="org.jkiss.dbeaver.core.resultset.rejectChanges" name="Reject changes" description="Reject data changes" categoryId="org.jkiss.dbeaver.core.rs"/>

        <command id="org.jkiss.dbeaver.core.edit.copy.special" name="Advanced Copy" description="Copy special" categoryId="org.jkiss.dbeaver.core.util"/>

        <command id="org.jkiss.dbeaver.core.qm.filter" name="Filters ..." description="Set query manager filter" categoryId="org.jkiss.dbeaver.core.util"/>
        <command id="org.jkiss.dbeaver.core.qm.clear" name="Clear log" description="Clear query manager log" categoryId="org.jkiss.dbeaver.core.util"/>

        <command id="org.jkiss.dbeaver.ui.editors.text.content.format" name="Content Format" description="Format text"/>
    </extension>

    <extension point="org.eclipse.ui.commandImages">
        <image commandId="org.jkiss.dbeaver.core.export.data" icon="icons/file/export.png"/>
        <image commandId="org.jkiss.dbeaver.core.driver.manager" icon="icons/driver_manager.png"/>
        <image commandId="org.jkiss.dbeaver.core.new.connection" icon="icons/database_connect.png"/>
        <image commandId="org.jkiss.dbeaver.core.navigator.linkeditor" icon="icons/link_to_editor.png"/>

        <image commandId="org.jkiss.dbeaver.core.connect" icon="icons/sql/connect.png"/>
        <image commandId="org.jkiss.dbeaver.core.invalidate" icon="icons/sql/reconnect.png"/>
        <image commandId="org.jkiss.dbeaver.core.disconnect" icon="icons/sql/disconnect.png"/>
        <image commandId="org.jkiss.dbeaver.core.commit" icon="icons/sql/commit.png"/>
        <image commandId="org.jkiss.dbeaver.core.rollback" icon="icons/sql/rollback.png"/>
        <image commandId="org.jkiss.dbeaver.core.txn.autocommit" icon="icons/sql/txn_config.png"/>

        <image commandId="org.jkiss.dbeaver.core.project.create" icon="IMG_TOOL_NEW_WIZARD"/>
        <image commandId="org.jkiss.dbeaver.core.project.refresh" icon="icons/refresh.png"/>
        <!--image commandId="org.jkiss.dbeaver.core.project.active" icon="icons/refresh.png"/-->
        <image commandId="org.jkiss.dbeaver.core.resource.create.folder" icon="IMG_TOOL_NEW_WIZARD"/>

        <image commandId="org.jkiss.dbeaver.core.new.sql.editor" icon="icons/sql/sql_script.png"/>
        <image commandId="org.jkiss.dbeaver.core.object.open" icon="icons/tree/edit_item.png"/>
        <image commandId="org.jkiss.dbeaver.core.object.create" icon="IMG_TOOL_NEW_WIZARD"/>
        <image commandId="org.jkiss.dbeaver.core.object.delete" icon="IMG_ETOOL_DELETE"/>
        <image commandId="org.jkiss.dbeaver.core.object.find" icon="icons/misc/find.png"/>

        <image commandId="org.jkiss.dbeaver.ui.editors.sql.run.statement" icon="icons/sql/sql_exec.png"/>
        <image commandId="org.jkiss.dbeaver.ui.editors.sql.run.script" icon="icons/sql/sql_script_exec.png"/>
        <image commandId="org.jkiss.dbeaver.ui.editors.sql.run.explain" icon="icons/sql/sql_plan.png"/>
        <image commandId="org.jkiss.dbeaver.ui.editors.sql.run.validate" icon="icons/sql/sql_validate.png"/>
        <image commandId="org.jkiss.dbeaver.ui.editors.sql.run.analyse" icon="icons/sql/sql_analyse.png"/>

        <image commandId="org.jkiss.dbeaver.ui.editors.sql.open.file" icon="IMG_ETOOL_SAVEAS_EDIT"/>
        <image commandId="org.jkiss.dbeaver.ui.editors.sql.save.file" icon="IMG_OBJ_FOLDER"/>

        <image commandId="org.jkiss.dbeaver.core.resultset.toggleMode" icon="icons/sql/resultset_record.png"/>
        <image commandId="org.jkiss.dbeaver.core.resultset.row.first" icon="icons/sql/resultset_first.png"/>
        <image commandId="org.jkiss.dbeaver.core.resultset.row.previous" icon="icons/sql/resultset_previous.png"/>
        <image commandId="org.jkiss.dbeaver.core.resultset.row.next" icon="icons/sql/resultset_next.png"/>
        <image commandId="org.jkiss.dbeaver.core.resultset.row.last" icon="icons/sql/resultset_last.png"/>
        <image commandId="org.jkiss.dbeaver.core.resultset.row.edit" icon="icons/sql/row_edit.png"/>
        <image commandId="org.jkiss.dbeaver.core.resultset.row.add" icon="icons/sql/row_add.png"/>
        <image commandId="org.jkiss.dbeaver.core.resultset.row.copy" icon="icons/sql/row_copy.png"/>
        <image commandId="org.jkiss.dbeaver.core.resultset.row.delete" icon="icons/sql/row_delete.png"/>
        <image commandId="org.jkiss.dbeaver.core.resultset.applyChanges" icon="icons/sql/accept.png"/>
        <image commandId="org.jkiss.dbeaver.core.resultset.rejectChanges" icon="icons/sql/cancel.png"/>

        <image commandId="org.jkiss.dbeaver.core.qm.filter" icon="icons/misc/filter.png"/>
        <image commandId="org.jkiss.dbeaver.core.qm.clear" icon="IMG_ETOOL_CLEAR"/>
    </extension>

    <extension point="org.eclipse.core.expressions.definitions">
        <definition id="org.jkiss.dbeaver.core.ui.spreadsheet.control">
            <with variable="activeFocusControlId">
                <equals value="org.jkiss.dbeaver.ui.spreadsheet"/>
            </with>
        </definition>
        <definition id="org.jkiss.dbeaver.core.ui.querylog.control">
            <with variable="activeFocusControlId">
                <equals value="org.jkiss.dbeaver.ui.qm.log"/>
            </with>
        </definition>
        <definition id="org.jkiss.dbeaver.core.ui.querylog.view">
            <with variable="activePart">
                <instanceof value="org.jkiss.dbeaver.ui.views.qm.QueryManagerView"/>
            </with>
        </definition>
        <definition id="org.jkiss.dbeaver.core.ui.active.db.object">
            <or>
                <with variable="selection">
                    <count value="+"/>
                    <iterate operator="and">
                        <adapt type="org.jkiss.dbeaver.model.struct.DBSObject"/>
                    </iterate>
                </with>
                <with variable="activePart">
                    <adapt type="org.jkiss.dbeaver.ext.IDataSourceProvider"/>
                </with>
            </or>
        </definition>
    </extension>

    <extension point="org.eclipse.ui.handlers">
        <handler commandId="org.eclipse.ui.edit.copy" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerCopyName">
            <activeWhen>
                <with variable="selection">
                    <count value="+"/>
                    <iterate operator="and">
                        <adapt type="org.jkiss.dbeaver.model.DBPNamedObject"/>
                    </iterate>
                </with>
            </activeWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.edit.copy.special" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerCopyFullName">
            <activeWhen>
                <with variable="selection">
                    <count value="+"/>
                    <iterate operator="and">
                        <adapt type="org.jkiss.dbeaver.model.struct.DBSEntityQualified"/>
                    </iterate>
                </with>
            </activeWhen>
        </handler>

        <handler commandId="org.eclipse.ui.file.refresh" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerRefresh">
            <activeWhen>
                <with variable="activePart">
                    <adapt type="org.jkiss.dbeaver.ext.ui.INavigatorModelView"/>
                </with>
            </activeWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.export.data" class="org.jkiss.dbeaver.ui.export.handlers.DataExportHandler">
            <enabledWhen>
                <with variable="selection">
                    <count value="+"/>
                    <iterate operator="and">
                        <adapt type="org.jkiss.dbeaver.model.struct.DBSDataContainer"/>
                    </iterate>
                </with>
            </enabledWhen>
        </handler>

        <handler commandId="org.jkiss.dbeaver.core.project.create" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerProjectCreate"/>
        <handler commandId="org.jkiss.dbeaver.core.project.refresh" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerProjectRefresh"/>
        <handler commandId="org.jkiss.dbeaver.core.project.active" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerProjectSetActive">
            <enabledWhen>
                <with variable="selection">
                    <count value="1"/>
                    <iterate operator="and">
                        <adapt type="org.eclipse.core.resources.IResource">
                            <test property="org.jkiss.dbeaver.core.resource.canSetActive"/>
                        </adapt>
                    </iterate>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resource.create.folder" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerCreateFolder">
            <enabledWhen>
                <with variable="selection">
                    <count value="1"/>
                    <iterate operator="and">
                        <adapt type="org.eclipse.core.resources.IResource">
                            <test property="org.jkiss.dbeaver.core.resource.canCreateFolder"/>
                        </adapt>
                    </iterate>
                </with>
            </enabledWhen>
        </handler>

        <handler commandId="org.jkiss.dbeaver.core.driver.manager" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerDriverManager"/>
        <handler commandId="org.jkiss.dbeaver.core.new.connection" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerNewConnection"/>

        <handler commandId="org.eclipse.ui.navigate.collapseAll" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerCollapseAll">
            <enabledWhen>
                <with variable="activePart">
                    <instanceof value="org.jkiss.dbeaver.ui.views.navigator.database.NavigatorViewBase"/>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.navigator.linkeditor" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerLinkEditor">
            <enabledWhen>
                <with variable="activeEditor">
                    <or>
                        <adapt type="org.jkiss.dbeaver.ext.IDatabaseEditor"/>
                        <adapt type="org.jkiss.dbeaver.ui.editors.sql.SQLEditor"/>
                    </or>
                </with>
            </enabledWhen>
        </handler>

        <handler commandId="org.jkiss.dbeaver.core.connect" class="org.jkiss.dbeaver.ui.actions.datasource.DataSourceConnectHandler">
            <enabledWhen>
                <or>
                    <with variable="selection">
                        <count value="1"/>
                        <iterate operator="and">
                            <adapt type="org.jkiss.dbeaver.model.struct.DBSDataSourceContainer">
                                <test property="org.jkiss.dbeaver.core.datasource.connected" value="false"/>
                            </adapt>
                        </iterate>
                    </with>
                    <with variable="activePart">
                        <adapt type="org.jkiss.dbeaver.model.struct.DBSDataSourceContainer">
                            <test property="org.jkiss.dbeaver.core.datasource.connected" value="false"/>
                        </adapt>
                    </with>
                </or>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.disconnect" class="org.jkiss.dbeaver.ui.actions.datasource.DataSourceDisconnectHandler">
            <enabledWhen>
                <or>
                    <with variable="selection">
                        <count value="1"/>
                        <iterate operator="and">
                            <adapt type="org.jkiss.dbeaver.model.struct.DBSDataSourceContainer">
                                <test property="org.jkiss.dbeaver.core.datasource.connected" value="true"/>
                            </adapt>
                        </iterate>
                    </with>
                    <with variable="activePart">
                        <adapt type="org.jkiss.dbeaver.model.struct.DBSDataSourceContainer">
                            <test property="org.jkiss.dbeaver.core.datasource.connected" value="true"/>
                        </adapt>
                    </with>
                </or>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.invalidate" class="org.jkiss.dbeaver.ui.actions.datasource.DataSourceInvalidateHandler">
            <enabledWhen>
                <or>
                    <with variable="selection">
                        <count value="1"/>
                        <iterate operator="and">
                            <adapt type="org.jkiss.dbeaver.model.struct.DBSDataSourceContainer">
                                <test property="org.jkiss.dbeaver.core.datasource.connected" value="true"/>
                            </adapt>
                        </iterate>
                    </with>
                    <with variable="activePart">
                        <adapt type="org.jkiss.dbeaver.model.struct.DBSDataSourceContainer">
                            <test property="org.jkiss.dbeaver.core.datasource.connected" value="true"/>
                        </adapt>
                    </with>
                </or>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.commit" class="org.jkiss.dbeaver.ui.actions.datasource.DataSourceCommitHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.model.struct.DBSDataSourceContainer">
                        <test property="org.jkiss.dbeaver.core.datasource.transactional" value="true"/>
                    </adapt>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.rollback" class="org.jkiss.dbeaver.ui.actions.datasource.DataSourceRollbackHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.model.struct.DBSDataSourceContainer">
                        <test property="org.jkiss.dbeaver.core.datasource.transactional" value="true"/>
                    </adapt>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.txn.autocommit" class="org.jkiss.dbeaver.ui.actions.datasource.DataSourceTransactionModeHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.model.struct.DBSDataSourceContainer">
                        <test property="org.jkiss.dbeaver.core.datasource.connected" value="true"/>
                    </adapt>
                </with>
            </enabledWhen>
        </handler>

        <handler commandId="org.jkiss.dbeaver.core.object.open" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerObjectOpen">
            <enabledWhen>
                <with variable="selection">
                    <iterate operator="and">
                        <or>
                            <adapt type="org.jkiss.dbeaver.model.struct.DBSObject"/>
                            <adapt type="org.eclipse.core.resources.IResource">
                                <test property="org.jkiss.dbeaver.core.resource.canOpen"/>
                            </adapt>
                        </or>
                    </iterate>
                </with>
            </enabledWhen>
        </handler>

        <handler commandId="org.jkiss.dbeaver.core.object.create" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerObjectCreateNew">
            <enabledWhen>
                <with variable="selection">
                    <count value="1"/>
                    <iterate operator="and">
                        <test property="org.jkiss.dbeaver.core.object.canCreate"/>
                    </iterate>
                </with>
            </enabledWhen>
        </handler>

        <handler commandId="org.eclipse.ui.edit.paste" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerObjectCreateCopy">
            <activeWhen>
                <with variable="selection">
                    <count value="+"/>
                    <iterate operator="and">
                        <test property="org.jkiss.dbeaver.core.object.canPaste"/>
                    </iterate>
                </with>
            </activeWhen>
        </handler>

        <handler commandId="org.jkiss.dbeaver.core.object.delete" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerObjectDelete">
            <enabledWhen>
                <with variable="selection">
                    <count value="+"/>
                    <iterate operator="and">
                        <test property="org.jkiss.dbeaver.core.object.canDelete"/>
                    </iterate>
                </with>
            </enabledWhen>
        </handler>

        <handler commandId="org.jkiss.dbeaver.core.object.find" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerObjectFind">
        </handler>

        <handler commandId="org.eclipse.ui.edit.delete" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerObjectDelete">
            <activeWhen>
                <with variable="selection">
                    <count value="+"/>
                    <iterate operator="and">
                        <test property="org.jkiss.dbeaver.core.object.canDelete"/>
                    </iterate>
                </with>
            </activeWhen>
        </handler>

        <handler commandId="org.eclipse.ui.edit.rename" class="org.jkiss.dbeaver.ui.actions.navigator.NavigatorHandlerObjectRename">
            <activeWhen>
                <with variable="selection">
                    <count value="1"/>
                    <iterate operator="and">
                        <test property="org.jkiss.dbeaver.core.object.canRename"/>
                    </iterate>
                </with>
            </activeWhen>
        </handler>

        <handler commandId="org.jkiss.dbeaver.core.new.sql.editor" class="org.jkiss.dbeaver.ui.editors.sql.handlers.OpenSQLEditorHandler">
            <enabledWhen>
                <reference definitionId="org.jkiss.dbeaver.core.ui.active.db.object"/>
            </enabledWhen>
        </handler>

        <!-- SQL editor handlers -->
        
        <handler commandId="org.jkiss.dbeaver.ui.editors.sql.run.statement" class="org.jkiss.dbeaver.ui.editors.sql.handlers.ExecuteStatementHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.sql.SQLEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.sql.canExecute"/>
                    </adapt>
                </with>
            </enabledWhen>
        </handler>
        <!--handler commandId="org.eclipse.ui.file.refresh" class="org.jkiss.dbeaver.ui.editors.sql.handlerss.handlers.ExecuteStatementHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.sql.SQLEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.sql.canExecute"/>
                    </adapt>
                </with>
            </enabledWhen>
        </handler-->
        <handler commandId="org.jkiss.dbeaver.ui.editors.sql.run.script" class="org.jkiss.dbeaver.ui.editors.sql.handlers.ExecuteScriptHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.sql.SQLEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.sql.canExecute"/>
                    </adapt>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.ui.editors.sql.run.explain" class="org.jkiss.dbeaver.ui.editors.sql.handlers.ExplainPlanHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.sql.SQLEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.sql.canExplain"/>
                    </adapt>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.ui.editors.sql.run.analyse" class="org.jkiss.dbeaver.ui.editors.sql.handlers.AnalyseStatementHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.sql.SQLEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.sql.canAnalyse"/>
                    </adapt>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.ui.editors.sql.run.validate" class="org.jkiss.dbeaver.ui.editors.sql.handlers.ValidateStatementHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.sql.SQLEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.sql.canValidate"/>
                    </adapt>
                </with>
            </enabledWhen>
        </handler>

        <handler commandId="org.jkiss.dbeaver.ui.editors.sql.save.file" class="org.jkiss.dbeaver.ui.editors.sql.handlers.SaveSQLFileHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <instanceof value="org.jkiss.dbeaver.ui.editors.sql.SQLEditor"/>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.ui.editors.sql.open.file" class="org.jkiss.dbeaver.ui.editors.sql.handlers.OpenSQLFileHandler">
            <enabledWhen>
                <with variable="activeEditor">
                    <instanceof value="org.jkiss.dbeaver.ui.editors.sql.SQLEditor"/>
                </with>
            </enabledWhen>
        </handler>

        <!-- Entity editor handlers -->
        <handler commandId="org.eclipse.ui.file.save" class="org.jkiss.dbeaver.ui.editors.entity.handlers.ApplyChangesHandler">
            <activeWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.entity.EntityEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.entity.dirty"/>
                    </adapt>
                </with>
            </activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.file.revert" class="org.jkiss.dbeaver.ui.editors.entity.handlers.RevertChangesHandler">
            <activeWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.entity.EntityEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.entity.dirty"/>
                    </adapt>
                </with>
            </activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.contentAssist.proposals" class="org.jkiss.dbeaver.ui.editors.entity.handlers.PreviewChangesHandler">
            <activeWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.entity.EntityEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.entity.dirty"/>
                    </adapt>
                </with>
            </activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.undo" class="org.jkiss.dbeaver.ui.editors.entity.handlers.UndoChangesHandler">
            <activeWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.entity.EntityEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.entity.canUndo"/>
                    </adapt>
                </with>
            </activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.redo" class="org.jkiss.dbeaver.ui.editors.entity.handlers.RedoChangesHandler">
            <activeWhen>
                <with variable="activeEditor">
                    <adapt type="org.jkiss.dbeaver.ui.editors.entity.EntityEditor">
                        <test property="org.jkiss.dbeaver.ui.editors.entity.canRedo"/>
                    </adapt>
                </with>
            </activeWhen>
        </handler>

        <!-- Spreadsheet handlers -->
        <handler commandId="org.eclipse.ui.edit.text.goto.lineStart" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.goto.lineEnd" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.goto.textStart" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.goto.textEnd" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.select.lineStart" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.select.lineEnd" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.select.textStart" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.select.textEnd" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.selectAll" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.copy" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.edit.copy.special" class="org.jkiss.dbeaver.ui.controls.spreadsheet.SpreadsheetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>

        <!-- ResultSet handlers
            Handle both row and text editor commands
        -->
        <handler commandId="org.jkiss.dbeaver.core.resultset.toggleMode" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resultset.row.first" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
            <enabledWhen>
                <with variable="activeFocusControl">
                    <test property="org.jkiss.dbeaver.core.resultset.canMove" value="back"/>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resultset.row.previous" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
            <enabledWhen>
                 <with variable="activeFocusControl">
                     <test property="org.jkiss.dbeaver.core.resultset.canMove" value="back"/>
                 </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resultset.row.next" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
            <enabledWhen>
                 <with variable="activeFocusControl">
                     <test property="org.jkiss.dbeaver.core.resultset.canMove" value="forward"/>
                 </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resultset.row.last" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
            <enabledWhen>
                 <with variable="activeFocusControl">
                     <test property="org.jkiss.dbeaver.core.resultset.canMove" value="forward"/>
                 </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resultset.row.edit" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
            <enabledWhen>
                 <with variable="activeFocusControl">
                     <test property="org.jkiss.dbeaver.core.resultset.editable" value="edit"/>
                 </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resultset.row.add" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
            <enabledWhen>
                 <with variable="activeFocusControl">
                     <test property="org.jkiss.dbeaver.core.resultset.editable" value="add"/>
                 </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resultset.row.copy" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
            <enabledWhen>
                <with variable="activeFocusControl">
                    <test property="org.jkiss.dbeaver.core.resultset.editable" value="copy"/>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resultset.row.delete" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
            <enabledWhen>
                <with variable="activeFocusControl">
                    <test property="org.jkiss.dbeaver.core.resultset.editable" value="delete"/>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resultset.applyChanges" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
            <enabledWhen>
                <with variable="activeFocusControl">
                    <test property="org.jkiss.dbeaver.core.resultset.changed"/>
                </with>
            </enabledWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.resultset.rejectChanges" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
            <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
            <enabledWhen>
                <with variable="activeFocusControl">
                    <test property="org.jkiss.dbeaver.core.resultset.changed"/>
                </with>
            </enabledWhen>
        </handler>

        <handler commandId="org.eclipse.ui.edit.text.goto.wordPrevious" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.goto.wordNext" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.select.wordPrevious" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.text.select.wordNext" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.file.refresh" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>

        <handler commandId="org.eclipse.ui.edit.delete" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.paste" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.cut" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <!--handler commandId="org.eclipse.ui.edit.undo" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.redo" class="org.jkiss.dbeaver.ui.controls.resultset.ResultSetCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.spreadsheet.control"/></activeWhen>
        </handler-->

        <!-- Query log control handlers -->
        <handler commandId="org.eclipse.ui.edit.selectAll" class="org.jkiss.dbeaver.ui.controls.querylog.QueryLogCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.querylog.control"/></activeWhen>
        </handler>
        <handler commandId="org.eclipse.ui.edit.copy" class="org.jkiss.dbeaver.ui.controls.querylog.QueryLogCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.querylog.control"/></activeWhen>
        </handler>
        <handler commandId="org.jkiss.dbeaver.core.edit.copy.special" class="org.jkiss.dbeaver.ui.controls.querylog.QueryLogCommandHandler">
           <activeWhen><reference definitionId="org.jkiss.dbeaver.core.ui.querylog.control"/></activeWhen>
        </handler>

        <!-- Query log view handlers -->
        <handler commandId="org.jkiss.dbeaver.core.qm.filter" class="org.jkiss.dbeaver.ui.views.qm.QueryManagerFilterHandler"/>
        <handler commandId="org.jkiss.dbeaver.core.qm.clear" class="org.jkiss.dbeaver.ui.views.qm.QueryManagerClearHandler"/>
    </extension>

    <extension point="org.eclipse.ui.menus">
        <!-- Edit menu -->
        <menuContribution allPopups="false" locationURI="menu:edit?before=undoredo">
            <command commandId="org.eclipse.ui.edit.undo"/>
            <command commandId="org.eclipse.ui.edit.redo"/>
        </menuContribution>
        <menuContribution allPopups="false" locationURI="menu:edit?before=additions">
            <command commandId="org.eclipse.ui.edit.cut"/>
            <command commandId="org.eclipse.ui.edit.copy"/>
            <command commandId="org.jkiss.dbeaver.core.edit.copy.special"/>
            <command commandId="org.eclipse.ui.edit.paste"/>
            <command commandId="org.eclipse.ui.edit.delete"/>
        </menuContribution>

        <!-- File menu-->
        <menuContribution allPopups="false" locationURI="menu:file?before=end">
            <command commandId="org.eclipse.ui.file.save"/>
            <command commandId="org.eclipse.ui.file.refresh"/>
            <command commandId="org.eclipse.ui.file.close"/>
            <separator name="import-export" visible="true"/>
            <command commandId="org.eclipse.ui.edit.rename"/>
            <command commandId="org.eclipse.ui.file.import"/>
            <!--command commandId="org.eclipse.ui.file.close"/-->
            <separator name="exit" visible="true"/>
            <command commandId="org.eclipse.ui.file.exit"/>
        </menuContribution>

        <!-- Window menu -->

        <menuContribution allPopups="false" locationURI="menu:window?before=additions">
            <separator name="editors" visible="true"/>
            <command commandId="org.eclipse.ui.window.nextEditor"/>
            <command commandId="org.eclipse.ui.window.previousEditor"/>
            <command commandId="org.eclipse.ui.window.switchToEditor"/>
        </menuContribution>

        <!-- Database menu -->
        <menuContribution allPopups="false" locationURI="menu:dataSourceMenu">
            <separator name="driverGroup" visible="true"/>
            <command commandId="org.jkiss.dbeaver.core.driver.manager"/>
            <command commandId="org.jkiss.dbeaver.core.new.connection"/>
            <separator name="connection" visible="true"/>
            <command commandId="org.jkiss.dbeaver.core.connect"/>
            <command commandId="org.jkiss.dbeaver.core.invalidate"/>
            <command commandId="org.jkiss.dbeaver.core.disconnect"/>
            <separator name="tools" visible="true"/>
            <command commandId="org.jkiss.dbeaver.core.new.sql.editor"/>
            <command commandId="org.jkiss.dbeaver.core.object.find"/>
            <separator name="session" visible="true"/>
            <command commandId="org.jkiss.dbeaver.core.commit"/>
            <command commandId="org.jkiss.dbeaver.core.rollback"/>
            <menu label="Transaction mode" commandId="org.jkiss.dbeaver.core.txn.autocommit">
                <dynamic id="org.jkiss.dbeaver.core.menu.txn.isolation" class="org.jkiss.dbeaver.ui.actions.datasource.DataSourceTransactionModeContributor"/>
            </menu>
        </menuContribution>

        <!-- Database toolbar -->
        <menuContribution allPopups="false" locationURI="toolbar:org.eclipse.ui.main.toolbar">
            <toolbar id="database" label="Database Toolbar">
                <command commandId="org.jkiss.dbeaver.core.connect"/>
                <command commandId="org.jkiss.dbeaver.core.invalidate"/>
                <command commandId="org.jkiss.dbeaver.core.disconnect"/>
                <separator name="tools" visible="true"/>
                <command commandId="org.jkiss.dbeaver.core.new.sql.editor"/>
                <command commandId="org.jkiss.dbeaver.core.object.find"/>
            </toolbar>
            <toolbar id="txn" label="Transactions">
                <command commandId="org.jkiss.dbeaver.core.commit"/>
                <command commandId="org.jkiss.dbeaver.core.rollback"/>
                <command commandId="org.jkiss.dbeaver.core.txn.autocommit" style="pulldown" id="org.jkiss.dbeaver.core.menu.txn"/>
            </toolbar>
        </menuContribution>

        <!-- Database Navigator menu & toolbar -->
        <menuContribution allPopups="false" locationURI="menu:org.jkiss.dbeaver.core.databaseNavigator">
            <command commandId="org.jkiss.dbeaver.core.driver.manager"/>
            <command commandId="org.jkiss.dbeaver.core.new.connection"/>
            <separator name="additions" visible="true"/>
            <command commandId="org.eclipse.ui.navigate.collapseAll"/>
            <command commandId="org.jkiss.dbeaver.core.navigator.linkeditor"/>
        </menuContribution>

        <menuContribution allPopups="false" locationURI="toolbar:org.jkiss.dbeaver.core.databaseNavigator">
            <command commandId="org.jkiss.dbeaver.core.driver.manager"/>
            <command commandId="org.jkiss.dbeaver.core.new.connection"/>
            <separator name="additions" visible="true"/>
            <command commandId="org.eclipse.ui.navigate.collapseAll"/>
            <command commandId="org.jkiss.dbeaver.core.navigator.linkeditor"/>
        </menuContribution>

        <!-- Project Navigator menu & toolbar -->
        <menuContribution allPopups="false" locationURI="menu:org.jkiss.dbeaver.core.projectNavigator">
            <command commandId="org.jkiss.dbeaver.core.project.create"/>
            <command commandId="org.jkiss.dbeaver.core.project.refresh"/>
            <separator name="additions" visible="true"/>
            <command commandId="org.eclipse.ui.navigate.collapseAll"/>
            <command commandId="org.jkiss.dbeaver.core.navigator.linkeditor"/>
        </menuContribution>

        <menuContribution allPopups="false" locationURI="toolbar:org.jkiss.dbeaver.core.projectNavigator">
            <command commandId="org.jkiss.dbeaver.core.project.create"/>
            <separator name="additions" visible="true"/>
            <command commandId="org.eclipse.ui.navigate.collapseAll"/>
            <command commandId="org.jkiss.dbeaver.core.navigator.linkeditor"/>
        </menuContribution>

        <!-- Project explorer menu & toolbar -->
        <menuContribution allPopups="false" locationURI="toolbar:org.jkiss.dbeaver.core.projectExplorer">
            <command commandId="org.eclipse.ui.navigate.collapseAll"/>
            <command commandId="org.jkiss.dbeaver.core.navigator.linkeditor"/>
        </menuContribution>

        <!-- All Context menus -->
        <menuContribution allPopups="false" locationURI="popup:org.eclipse.ui.popup.any?after=additions">
            <command commandId="org.jkiss.dbeaver.core.connect">
               <visibleWhen>
                   <with variable="selection">
                       <count value="1"/>
                       <iterate operator="and">
                           <instanceof value="org.jkiss.dbeaver.model.navigator.DBNDataSource"/>
                       </iterate>
                   </with>
               </visibleWhen>
            </command>
            <command commandId="org.jkiss.dbeaver.core.disconnect">
                <visibleWhen>
                    <with variable="selection">
                        <count value="1"/>
                        <iterate operator="and">
                            <instanceof value="org.jkiss.dbeaver.model.navigator.DBNDataSource"/>
                        </iterate>
                    </with>
                </visibleWhen>
            </command>
            <command commandId="org.jkiss.dbeaver.core.new.sql.editor">
                <visibleWhen>
                    <with variable="selection">
                        <count value="1"/>
                        <iterate operator="and">
                            <instanceof value="org.jkiss.dbeaver.model.navigator.DBNDataSource"/>
                        </iterate>
                    </with>
                </visibleWhen>
            </command>

            <command commandId="org.jkiss.dbeaver.core.project.create">
                <visibleWhen>
                    <with variable="selection">
                        <count value="+"/>
                        <iterate operator="and">
                            <adapt type="org.eclipse.core.resources.IProject"/>
                        </iterate>
                    </with>
                </visibleWhen>
            </command>
            <command commandId="org.jkiss.dbeaver.core.project.active">
                <visibleWhen checkEnabled="true"/>
            </command>
            <command commandId="org.jkiss.dbeaver.core.resource.create.folder">
                <visibleWhen checkEnabled="true"/>
            </command>

            <separator name="tools" visible="true"/>

            <command commandId="org.jkiss.dbeaver.core.object.open">
                <visibleWhen checkEnabled="true"/>
            </command>
            <command commandId="org.jkiss.dbeaver.core.object.create">
                <visibleWhen checkEnabled="true"/>
            </command>
            <!--command commandId="org.jkiss.dbeaver.core.object.delete">
                <visibleWhen checkEnabled="true"/>
            </command-->
            <command commandId="org.eclipse.ui.edit.delete">
                <visibleWhen checkEnabled="true"/>
            </command>

            <command commandId="org.eclipse.ui.edit.copy">
                <visibleWhen checkEnabled="true"/>
            </command>
            <command commandId="org.eclipse.ui.edit.paste">
                <visibleWhen checkEnabled="true"/>
            </command>
            <command commandId="org.jkiss.dbeaver.core.edit.copy.special" label="Copy full qualified name">
                <visibleWhen checkEnabled="true"/>
            </command>
            <command commandId="org.eclipse.ui.edit.rename">
                <visibleWhen checkEnabled="true"/>
            </command>

            <command commandId="org.jkiss.dbeaver.core.export.data">
               <visibleWhen checkEnabled="true"/>
            </command>
        </menuContribution>

        <!-- Transaction mode menu -->
        <menuContribution allPopups="false" locationURI="menu:org.jkiss.dbeaver.core.menu.txn">
            <dynamic id="org.jkiss.dbeaver.core.menu.txn.isolation" class="org.jkiss.dbeaver.ui.actions.datasource.DataSourceTransactionModeContributor"/>
        </menuContribution>

        <!-- SQL editor -->
        <menuContribution allPopups="false" locationURI="toolbar:org.eclipse.ui.main.toolbar">
            <toolbar id="sqlEditorExecute" label="SQL Execute">
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.statement">
                    <visibleWhen>
                        <with variable="activeEditor">
                            <instanceof value="org.jkiss.dbeaver.ui.editors.sql.SQLEditor"/>
                        </with>
                    </visibleWhen>
                </command>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.script">
                    <visibleWhen>
                        <with variable="activeEditor">
                            <instanceof value="org.jkiss.dbeaver.ui.editors.sql.SQLEditor"/>
                        </with>
                    </visibleWhen>
                </command>
                <separator name="execute" visible="true"/>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.explain">
                    <visibleWhen>
                        <with variable="activeEditor">
                            <instanceof value="org.jkiss.dbeaver.ui.editors.sql.SQLEditor"/>
                        </with>
                    </visibleWhen>
                </command>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.analyse">
                    <visibleWhen>
                        <with variable="activeEditor">
                            <instanceof value="org.jkiss.dbeaver.ui.editors.sql.SQLEditor"/>
                        </with>
                    </visibleWhen>
                </command>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.validate">
                    <visibleWhen>
                        <with variable="activeEditor">
                            <instanceof value="org.jkiss.dbeaver.ui.editors.sql.SQLEditor"/>
                        </with>
                    </visibleWhen>
                </command>
            </toolbar>
        </menuContribution>

        <!-- Entity editor -->
        <menuContribution allPopups="false" locationURI="toolbar:org.eclipse.ui.main.toolbar">
            <toolbar id="entityEditorExecute" label="Entity Editor">
                <command commandId="org.eclipse.ui.file.save" icon="icons/sql/save_to_database.png" label="Save Changes">
                    <visibleWhen>
                        <with variable="activeEditor">
                            <instanceof value="org.eclipse.ui.IEditorPart"/>
                        </with>
                    </visibleWhen>
                </command>
                <!--command commandId="org.eclipse.ui.file.revert" icon="icons/sql/revert.png" label="Revert Changes">
                    <visibleWhen>
                        <with variable="activeEditor">
                            <instanceof value="org.jkiss.dbeaver.ui.editors.entity.EntityEditor"/>
                        </with>
                    </visibleWhen>
                </command-->
                <!--command commandId="org.eclipse.ui.edit.text.contentAssist.proposals" icon="icons/sql/sql_preview.png" label="Changes Script">
                    <visibleWhen>
                        <with variable="activeEditor">
                            <instanceof value="org.jkiss.dbeaver.ui.editors.entity.EntityEditor"/>
                        </with>
                    </visibleWhen>
                </command-->
                <command commandId="org.eclipse.ui.edit.undo">
                    <visibleWhen>
                        <with variable="activeEditor">
                            <instanceof value="org.eclipse.ui.IEditorPart"/>
                        </with>
                    </visibleWhen>
                </command>
                <command commandId="org.eclipse.ui.edit.redo">
                    <visibleWhen>
                        <with variable="activeEditor">
                            <instanceof value="org.eclipse.ui.IEditorPart"/>
                        </with>
                    </visibleWhen>
                </command>
            </toolbar>
        </menuContribution>

        <!-- Database menu -->
        <menuContribution allPopups="false" locationURI="menu:org.eclipse.ui.main.menu?after=additions">
            <menu id="SQLEditorMenu" label="S&amp;QL Editor">
                <visibleWhen>
                    <with variable="activeEditor">
                        <instanceof value="org.jkiss.dbeaver.ui.editors.sql.SQLEditor"/>
                    </with>
                </visibleWhen>
                <separator name="execute" visible="true"/>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.statement"/>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.script"/>
                <separator name="query" visible="true"/>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.explain"/>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.validate"/>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.analyse"/>
                <separator name="files" visible="true"/>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.open.file"/>
                <command commandId="org.jkiss.dbeaver.ui.editors.sql.save.file"/>
            </menu>
        </menuContribution>

        <menuContribution allPopups="false" locationURI="popup:org.jkiss.dbeaver.ui.editors.sql.SQLEditor.EditorContext">
            <separator name="files" visible="true"/>
            <command commandId="org.jkiss.dbeaver.ui.editors.sql.open.file"/>
            <command commandId="org.jkiss.dbeaver.ui.editors.sql.save.file"/>
            <separator name="execute" visible="true"/>
            <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.statement"/>
            <command commandId="org.jkiss.dbeaver.ui.editors.sql.run.script"/>
        </menuContribution>

        <!-- QM menu & toolbar -->

        <menuContribution allPopups="false" locationURI="menu:org.jkiss.dbeaver.core.queryManager">
            <command commandId="org.jkiss.dbeaver.core.qm.filter"/>
            <command commandId="org.jkiss.dbeaver.core.qm.clear"/>
            <separator name="additions" visible="true"/>
        </menuContribution>

        <menuContribution allPopups="false" locationURI="toolbar:org.jkiss.dbeaver.core.queryManager">
            <command commandId="org.jkiss.dbeaver.core.qm.filter"/>
            <command commandId="org.jkiss.dbeaver.core.qm.clear"/>
            <separator name="additions" visible="true"/>
        </menuContribution>

    </extension>

    <extension point="org.eclipse.ui.bindings">
        <scheme id="DBeaverKeyScheme" name="DBeaver" parentId="org.eclipse.ui.defaultAcceleratorConfiguration" description="DBeaver accelerators"/>

        <key commandId="org.jkiss.dbeaver.core.resultset.toggleMode" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="TAB"/>
        <key commandId="org.jkiss.dbeaver.core.resultset.row.first" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+SHIFT+ARROW_LEFT"/>
        <key commandId="org.jkiss.dbeaver.core.resultset.row.previous" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+ARROW_LEFT"/>
        <key commandId="org.jkiss.dbeaver.core.resultset.row.next" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+ARROW_RIGHT"/>
        <key commandId="org.jkiss.dbeaver.core.resultset.row.last" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+SHIFT+ARROW_RIGHT"/>
        <key commandId="org.jkiss.dbeaver.core.resultset.row.edit" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="SHIFT+ENTER"/>
        <key commandId="org.jkiss.dbeaver.core.resultset.row.add" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="INSERT"/>
        <key commandId="org.jkiss.dbeaver.core.resultset.row.copy" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="ALT+INSERT"/>
        <key commandId="org.jkiss.dbeaver.core.resultset.row.delete" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="ALT+DELETE"/>
        <key commandId="org.jkiss.dbeaver.core.resultset.applyChanges" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+ALT+S"/>
        <key commandId="org.jkiss.dbeaver.core.resultset.rejectChanges" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+ALT+R"/>

        <key commandId="org.jkiss.dbeaver.core.edit.copy.special" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+SHIFT+C"/>
        <key commandId="org.jkiss.dbeaver.core.object.find" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+H"/>

        <!-- SQL Editor -->
        <key commandId="org.jkiss.dbeaver.ui.editors.sql.run.statement" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+Enter"/>
        <key commandId="org.jkiss.dbeaver.ui.editors.sql.run.script" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="ALT+X"/>
        <key commandId="org.jkiss.dbeaver.ui.editors.sql.run.explain" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+SHIFT+Enter"/>

        <key commandId="org.jkiss.dbeaver.core.new.sql.editor" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+L"/>
        <key commandId="org.jkiss.dbeaver.ui.editors.sql.open.file" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+O"/>

        <!-- Text editors -->
        <key commandId="org.jkiss.dbeaver.ui.editors.text.content.format" contextId="org.eclipse.ui.contexts.window" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+ALT+F"/>


        <key commandId="org.eclipse.ui.navigate.backwardHistory" contextId="org.eclipse.ui.contexts.window" schemeId="DBeaverKeyScheme" sequence="ALT+CTRL+ARROW_LEFT"/>
        <key commandId="org.eclipse.ui.navigate.forwardHistory" contextId="org.eclipse.ui.contexts.window" schemeId="DBeaverKeyScheme" sequence="ALT+CTRL+ARROW_RIGHT"/>
        <key commandId="org.eclipse.ui.edit.text.gotoLastEditPosition" contextId="org.eclipse.ui.contexts.window" schemeId="DBeaverKeyScheme" sequence="CTRL+SHIFT+BS"/>
        <key commandId="org.eclipse.ui.edit.text.goto.line" contextId="org.eclipse.ui.textEditorScope" schemeId="DBeaverKeyScheme" sequence="CTRL+G"/>
        <key commandId="org.eclipse.ui.edit.findNext" contextId="org.eclipse.ui.textEditorScope" schemeId="DBeaverKeyScheme" sequence="F3"/>
        <key commandId="org.eclipse.ui.edit.findPrevious" contextId="org.eclipse.ui.textEditorScope" schemeId="DBeaverKeyScheme" sequence="SHIFT+F3"/>
        <key commandId="org.eclipse.ui.edit.text.moveLineDown" contextId="org.eclipse.ui.textEditorScope" schemeId="DBeaverKeyScheme" sequence="CTRL+SHIFT+ARROW_DOWN"/>
        <key commandId="org.eclipse.ui.edit.text.moveLineUp" contextId="org.eclipse.ui.textEditorScope" schemeId="DBeaverKeyScheme" sequence="CTRL+SHIFT+ARROW_UP"/>
        <key commandId="org.eclipse.ui.edit.text.copyLineUp" contextId="org.eclipse.ui.textEditorScope" schemeId="DBeaverKeyScheme" sequence="CTRL+D"/>
        <key commandId="org.eclipse.ui.edit.text.delete.line" contextId="org.eclipse.ui.textEditorScope" schemeId="DBeaverKeyScheme" sequence="CTRL+Y"/>
        <key commandId="org.eclipse.ui.edit.redo" contextId="org.eclipse.ui.contexts.window" schemeId="DBeaverKeyScheme" sequence="CTRL+SHIFT+Z"/>
        <key commandId="org.eclipse.ui.edit.text.join.lines" contextId="org.eclipse.ui.textEditorScope" schemeId="DBeaverKeyScheme" sequence="CTRL+SHIFT+J"/>
        <key commandId="org.eclipse.ui.edit.findIncremental" contextId="org.eclipse.ui.textEditorScope" schemeId="DBeaverKeyScheme" sequence="ALT+F3"/>

    </extension>
    <extension point="org.eclipse.ui.contexts">
        <context id="org.jkiss.dbeaver.core.navigationContext" name="Navigation context"/>
    </extension>

    <extension point="org.eclipse.ui.perspectives">
        <perspective name="Database Manager Perspective" class="org.jkiss.dbeaver.core.DBeaverPerspective" id="org.jkiss.dbeaver.core.perspective"/>
    </extension>

    <extension point="org.eclipse.ui.editors">
        <editor name="SQL Editor"
                extensions="sql"
                icon="icons/sql/sql_script.png"
                contributorClass="org.jkiss.dbeaver.ui.editors.sql.SQLEditorContributor"
                class="org.jkiss.dbeaver.ui.editors.sql.SQLEditor"
                id="org.jkiss.dbeaver.ui.editors.sql.SQLEditor">
            <contentTypeBinding
                    contentTypeId="org.jkiss.dbeaver.core.content-type-sql">
            </contentTypeBinding>
        </editor>
        <editor
                name="Folder Editor"
                icon="icons/properties.png"
                contributorClass="org.jkiss.dbeaver.ui.editors.folder.FolderEditorContributor"
                class="org.jkiss.dbeaver.ui.editors.folder.FolderEditor"
                id="org.jkiss.dbeaver.ui.editors.folder.FolderEditor">
        </editor>
        <editor
                name="Entity Editor"
                icon="icons/properties.png"
                contributorClass="org.jkiss.dbeaver.ui.editors.entity.EntityEditorContributor"
                class="org.jkiss.dbeaver.ui.editors.entity.EntityEditor"
                id="org.jkiss.dbeaver.ui.editors.entity.EntityEditor">
        </editor>
        <editor
                name="Large Object Editor"
                icon="icons/sql/types/lob.png"
                contributorClass="org.jkiss.dbeaver.ui.editors.content.ContentEditorContributor"
                class="org.jkiss.dbeaver.ui.editors.content.ContentEditor"
                id="org.jkiss.dbeaver.ui.editors.content.ContentEditor">
        </editor>
    </extension>

    <extension id="product" point="org.eclipse.core.runtime.products">
        <product application="org.jkiss.dbeaver.core.application" description="Universal Database Manager" name="DBeaver">
            <property name="aboutText" value="DBeaver - Universal Database Manager"/>
            <property name="windowImages" value="icons/dbeaver.png"/>
            <property name="aboutImage" value="product_lg.gif"/>
            <property name="appName" value="DBeaver"/>
            <property name="startupForegroundColor" value="000000"/>
            <property name="startupMessageRect" value="25,25,200,15"/>
            <property name="startupProgressRect" value="25,45,150,15"/>
            <property name="preferenceCustomization" value="plugin_customization.ini"/>
        </product>
    </extension>

    <extension point="org.eclipse.ui.preferencePages">
        <page id="org.jkiss.dbeaver.preferences.main" class="org.jkiss.dbeaver.ui.preferences.PrefPageCommon" name="Database Management"/>
        <page category="org.jkiss.dbeaver.preferences.main" id="org.jkiss.dbeaver.preferences.main.dataformat" class="org.jkiss.dbeaver.ui.preferences.PrefPageDataFormat" name="Data Formats"/>
        <page category="org.jkiss.dbeaver.preferences.main" id="org.jkiss.dbeaver.preferences.misc.qm" class="org.jkiss.dbeaver.ui.preferences.PrefPageQueryManager" name="Query Manager"/>

        <page id="org.jkiss.dbeaver.preferences.editors" class="org.eclipse.ui.ExtensionFactory:editorsPreferencePage" name="Editors"/>
        <page category="org.jkiss.dbeaver.preferences.editors" id="org.jkiss.dbeaver.preferences.main.sqleditor" class="org.jkiss.dbeaver.ui.preferences.PrefPageSQLEditor" name="SQL Editor"/>
        <page category="org.jkiss.dbeaver.preferences.editors" id="org.jkiss.dbeaver.preferences.main.contenteditor" class="org.jkiss.dbeaver.ui.preferences.PrefPageContentEditor" name="Content Editor"/>
        <page category="org.jkiss.dbeaver.preferences.editors" id="org.jkiss.dbeaver.ui.editors.binary.PreferencesPage" class="org.jkiss.dbeaver.ui.editors.binary.PreferencesPage" name="Binary Editor"/>

        <page id="org.jkiss.dbeaver.preferences.general" class="org.eclipse.ui.ExtensionFactory:workbenchPreferencePage" name="General"/>
        <page category="org.jkiss.dbeaver.preferences.general" id="org.jkiss.dbeaver.preferences.appearance" class="org.eclipse.ui.ExtensionFactory:appearancePreferencePage" name="Appearance"/>
        <page category="org.jkiss.dbeaver.preferences.appearance" id="org.eclipse.ui.preferencePages.ColorsAndFonts" class="org.eclipse.ui.ExtensionFactory:colorsAndFontsPreferencePage" name="Colors and fonts"/>

        <!--page id="org.jkiss.dbeaver.preferences.misc" class="org.jkiss.dbeaver.ui.preferences.PrefPageEmpty" name="Miscellaneous"/-->
        <page category="org.jkiss.dbeaver.preferences.general" id="org.jkiss.dbeaver.preferences.main.confirmations" class="org.jkiss.dbeaver.ui.preferences.PrefPageConfirmations" name="Confirmations"/>
        <page category="org.jkiss.dbeaver.preferences.general" id="org.jkiss.dbeaver.preferences.shortcuts" class="org.eclipse.ui.ExtensionFactory:newKeysPreferencePage" name="Keys"/>

    </extension>

    <extension point="org.eclipse.ui.propertyPages">
        <page id="org.jkiss.dbeaver.preferences.main.common" class="org.jkiss.dbeaver.ui.preferences.PrefPageCommon" name="Common Settings">
           <enabledWhen>
               <or>
                  <instanceof value="org.jkiss.dbeaver.model.navigator.DBNDataSource"/>
                  <instanceof value="org.jkiss.dbeaver.ext.IDatabaseEditorInput"/>
               </or>
           </enabledWhen>
        </page>
        <page id="org.jkiss.dbeaver.preferences.main.dataformat" class="org.jkiss.dbeaver.ui.preferences.PrefPageDataFormat" name="Data Formats">
           <enabledWhen>
              <or>
                 <instanceof value="org.jkiss.dbeaver.model.navigator.DBNDataSource"/>
                 <instanceof value="org.jkiss.dbeaver.ext.IDatabaseEditorInput"/>
                 <instanceof value="org.jkiss.dbeaver.registry.DataFormatterRegistry"/>
              </or>
           </enabledWhen>
        </page>
        <page class="org.jkiss.dbeaver.ui.preferences.PrefPageSQLEditor" id="org.jkiss.dbeaver.preferences.main.sqleditor" name="SQL Editor">
           <enabledWhen>
               <or>
                <instanceof value="org.jkiss.dbeaver.model.navigator.DBNDataSource"/>
                <instanceof value="org.jkiss.dbeaver.ext.IDatabaseEditorInput"/>
               </or>
           </enabledWhen>
        </page>
        <page class="org.jkiss.dbeaver.ui.preferences.PrefPageContentEditor" id="org.jkiss.dbeaver.preferences.main.contenteditor" name="Content Editor">
           <enabledWhen>
              <instanceof value="org.jkiss.dbeaver.model.navigator.DBNDataSource"/>
           </enabledWhen>
        </page>
        <page class="org.jkiss.dbeaver.ui.preferences.PrefPageQueryManager" id="org.jkiss.dbeaver.preferences.main.qm" name="Query Manager">
           <enabledWhen>
              <instanceof value="org.jkiss.dbeaver.ui.views.qm.QueryManagerView"/>
           </enabledWhen>
        </page>
    </extension>

    <extension point="org.eclipse.ui.elementFactories">
        <factory id="org.jkiss.dbeaver.ui.editors.sql.SQLEditorInputFactory" class="org.jkiss.dbeaver.ui.editors.sql.SQLEditorInputFactory"/>
    </extension>

    <extension point="org.eclipse.ui.views.properties.tabbed.propertyContributor">
        <propertyContributor contributorId="org.jkiss.dbeaver.core.propertyViewContributor" tabDescriptorProvider="org.jkiss.dbeaver.ui.views.properties.PropertyTabDescriptorProvider">
            <propertyCategory category="core-properties"/>
        </propertyContributor>
    </extension>

    <extension point="org.eclipse.ui.themes">
        <themeElementCategory label="SQL Editor" id="org.jkiss.dbeaver.ui.presentation.sql">
            <description>SQL Editor</description>
        </themeElementCategory>
        <fontDefinition id="org.jkiss.dbeaver.sql.resultset.font" categoryId="org.jkiss.dbeaver.ui.presentation.sql" label="ResultSet grid font">
            <description>The grid font is used for result set cells, header and rows number.</description>
        </fontDefinition>
        <colorDefinition
                label="ResultSet selection background"
                categoryId="org.jkiss.dbeaver.ui.presentation.sql"
                id="org.jkiss.dbeaver.sql.resultset.color.selection.background"
                value="COLOR_LIST_SELECTION">
            <description>Selection background</description>
        </colorDefinition>
        <colorDefinition
                label="ResultSet selection foreground"
                categoryId="org.jkiss.dbeaver.ui.presentation.sql"
                id="org.jkiss.dbeaver.sql.resultset.color.selection.foreground"
                value="COLOR_LIST_SELECTION_TEXT">
            <description>Selection foreground</description>
        </colorDefinition>
        <colorDefinition
                label="SQL keyword color"
                categoryId="org.jkiss.dbeaver.ui.presentation.sql"
                id="org.jkiss.dbeaver.sql.editor.color.keyword.foreground"
                value="COLOR_DARK_RED">
            <description>SQL keyword color</description>
        </colorDefinition>
        <colorDefinition
                label="SQL datatype color"
                categoryId="org.jkiss.dbeaver.ui.presentation.sql"
                id="org.jkiss.dbeaver.sql.editor.color.datatype.foreground"
                value="COLOR_DARK_BLUE">
            <description>SQL datatype color</description>
        </colorDefinition>
        <colorDefinition
                label="SQL string color"
                categoryId="org.jkiss.dbeaver.ui.presentation.sql"
                id="org.jkiss.dbeaver.sql.editor.color.string.foreground"
                value="COLOR_DARK_GREEN">
            <description>SQL string color</description>
        </colorDefinition>
        <colorDefinition
                label="SQL number color"
                categoryId="org.jkiss.dbeaver.ui.presentation.sql"
                id="org.jkiss.dbeaver.sql.editor.color.number.foreground"
                value="COLOR_BLUE">
            <description>SQL number color</description>
        </colorDefinition>
        <colorDefinition
                label="SQL comment color"
                categoryId="org.jkiss.dbeaver.ui.presentation.sql"
                id="org.jkiss.dbeaver.sql.editor.color.comment.foreground"
                value="COLOR_DARK_GRAY">
            <description>SQL comment color</description>
        </colorDefinition>
        <colorDefinition
                label="SQL delimiter foreground"
                categoryId="org.jkiss.dbeaver.ui.presentation.sql"
                id="org.jkiss.dbeaver.sql.editor.color.delimiter.foreground"
                value="COLOR_RED">
            <description>SQL statement delimiter foreground</description>
        </colorDefinition>
        <colorDefinition
                label="SQL text foreground"
                categoryId="org.jkiss.dbeaver.ui.presentation.sql"
                id="org.jkiss.dbeaver.sql.editor.color.text.foreground"
                value="COLOR_BLACK">
            <description>SQL text foreground</description>
        </colorDefinition>
        <colorDefinition
                label="SQL text background"
                categoryId="org.jkiss.dbeaver.ui.presentation.sql"
                id="org.jkiss.dbeaver.sql.editor.color.text.background"
                value="COLOR_WHITE">
            <description>SQL text background</description>
        </colorDefinition>
    </extension>


    <extension point="org.eclipse.ui.splashHandlers">
        <splashHandler
                class="org.jkiss.dbeaver.ui.splash.DBeaverSplashHandler"
                id="org.jkiss.dbeaver.ui.splash.interactive">
        </splashHandler>
        <splashHandlerProductBinding
                productId="org.jkiss.dbeaver.core.product"
                splashId="org.jkiss.dbeaver.ui.splash.interactive">
        </splashHandlerProductBinding>
    </extension>

    <extension point="org.jkiss.dbeaver.databaseEditor">
        <manager
            id="org.jkiss.dbeaver.registry.DataSourceDescriptorManager"
            class="org.jkiss.dbeaver.registry.DataSourceDescriptorManager"
            objectType="org.jkiss.dbeaver.registry.DataSourceDescriptor"
            label="Data source manager">
        </manager>
        <editor
                id="org.jkiss.dbeaver.ui.editors.data.DatabaseDataEditor"
                class="org.jkiss.dbeaver.ui.editors.data.DatabaseDataEditor"
                objectType="org.jkiss.dbeaver.model.struct.DBSDataContainer"
                main="false"
                label="Data"
                description="Table data"
                position="additions_start"
                icon="icons/sql/sql_table.png">
        </editor>
    </extension>

    <extension point="org.jkiss.dbeaver.dataTypeProvider">
        <provider
                class="org.jkiss.dbeaver.model.impl.jdbc.data.JDBCStandardDataTypeProvider"
                description="Standard JDBC data types provider"
                id="org.jkiss.dbeaver.core.standardDataTypeProvider"
                label="Standard JDBC data types provider">
            <type standard="BIT"/>
            <type standard="TINYINT"/>
            <type standard="SMALLINT"/>
            <type standard="INTEGER"/>
            <type standard="BIGINT"/>
            <type standard="FLOAT"/>
            <type standard="REAL"/>
            <type standard="DOUBLE"/>
            <type standard="DECIMAL"/>
            <type standard="NUMERIC"/>
            <type standard="CHAR"/>
            <type standard="VARCHAR"/>
            <type standard="LONGVARCHAR"/>
            <type standard="DATE"/>
            <type standard="TIME"/>
            <type standard="TIMESTAMP"/>
            <type standard="BINARY"/>
            <type standard="VARBINARY"/>
            <type standard="LONGVARBINARY"/>
            <!--
            <type standard="NULL"/>
            <type standard="OTHER"/>
            -->

            <!--
            <type standard="JAVA_OBJECT"/>
            <type standard="DISTINCT"/>
            <type standard="STRUCT"/>
            -->
            <type standard="ARRAY"/>
            <type standard="BLOB"/>
            <type standard="CLOB"/>
            <!--
            <type standard="REF"/>
            <type standard="DATALINK"/>
            -->

            <type standard="BOOLEAN"/>
            <type standard="ROWID"/>
            <type standard="NCHAR"/>
            <type standard="NVARCHAR"/>
            <type standard="LONGNVARCHAR"/>
            <type standard="NCLOB"/>
            <!--
            <type standard="SQLXML"/>
            -->

        </provider>
    </extension>

    <extension point="org.jkiss.dbeaver.dataFormatter">
        <formatter id="date" label="Date" class="org.jkiss.dbeaver.model.impl.data.DateTimeDataFormatter" sampleClass="org.jkiss.dbeaver.model.impl.data.DateFormatSample">
            <propertyGroup label="General">
                <property id="pattern" label="Pattern" type="string" description="Date pattern" required="true"/>
            </propertyGroup>
        </formatter>
        <formatter id="time" label="Time" class="org.jkiss.dbeaver.model.impl.data.DateTimeDataFormatter" sampleClass="org.jkiss.dbeaver.model.impl.data.TimeFormatSample">
            <propertyGroup label="General">
                <property id="pattern" label="Pattern" type="string" description="Time pattern" required="true"/>
            </propertyGroup>
        </formatter>
        <formatter id="timestamp" label="Timestamp" class="org.jkiss.dbeaver.model.impl.data.DateTimeDataFormatter" sampleClass="org.jkiss.dbeaver.model.impl.data.TimestampFormatSample">
            <propertyGroup label="General">
                <property id="pattern" label="Pattern" type="string" description="Timestamp pattern" required="true"/>
            </propertyGroup>
        </formatter>
        <formatter id="number" label="Numbers" class="org.jkiss.dbeaver.model.impl.data.NumberDataFormatter" sampleClass="org.jkiss.dbeaver.model.impl.data.NumberFormatSample">
            <propertyGroup label="General">
                <property id="useGrouping" label="Use Grouping" type="boolean" description="Tells grouping is used in this format"/>
                <property id="maxIntegerDigits" label="Maximum integer digits" type="integer" description="Maximum integer digits"/>
                <property id="minIntegerDigits" label="Minimum integer digits" type="integer" description="Minimum integer digits"/>
                <property id="maxFractionDigits" label="Maximum fraction digits" type="integer" description="Maximum fraction digits"/>
                <property id="minFractionDigits" label="Minimum fraction digits" type="integer" description="Minimum fraction digits"/>
                <property id="roundingMode" label="Rounding mode" type="string" description="Rounding mode" validValues="UP,DOWN,CEILING,FLOOR,HALF_UP,HALF_DOWN,HALF_EVEN,UNNECESSARY"/>
            </propertyGroup>
        </formatter>
    </extension>

    <extension point="org.jkiss.dbeaver.dataExportProvider">
        <export
                id="org.jkiss.dbeaver.core.dataExport.csv"
                class="org.jkiss.dbeaver.ui.export.impl.DataExporterCSV"
                description="Export to CSV file(s)"
                extension="csv"
                icon="icons/misc/csv.png"
                label="CSV">
            <propertyGroup label="General">
                <property id="delimiter" label="Delimiter" type="string" description="Columns delimiter" defaultValue="," required="true"/>
                <property id="header" label="Header" type="string" description="CSV header settings" defaultValue="top" required="true" validValues="none,top,bottom,both"/>
                <property id="escape" label="Characters escape" type="string" description="Bad characters escaping model (surrounded with quotes or escaped with '\' character)" defaultValue="quotes" required="true" validValues="quotes,escape"/>
            </propertyGroup>
        </export>
        <export
                id="org.jkiss.dbeaver.core.dataExport.sql"
                class="org.jkiss.dbeaver.ui.export.impl.DataExporterSQL"
                description="Export to SQL INSERT statements"
                extension="sql"
                icon="icons/misc/sql.png"
                label="SQL">
            <sourceType type="org.jkiss.dbeaver.model.struct.DBSTable"/>
            <propertyGroup label="General">
                <property id="escape" label="Escape character" type="string" description="Character which escapes single quote character" defaultValue="\" required="true"/>
                <property id="rowsInStatement" label="Data rows per statement" type="numeric" description="Number of data rows per single insert statement" defaultValue="10" required="true"/>
            </propertyGroup>
        </export>
    </extension>

    <extension point="org.jkiss.dbeaver.resourceHandler">
        <handler type="project" class="org.jkiss.dbeaver.model.impl.project.ProjectHandlerImpl"/>
        <handler type="databases" class="org.jkiss.dbeaver.model.impl.project.DatabasesHandlerImpl"/>
        <handler type="scripts" extensions="sql" class="org.jkiss.dbeaver.model.impl.project.ScriptsHandlerImpl"/>
        <handler type="bookmarks" class="org.jkiss.dbeaver.model.impl.project.BookmarksHandlerImpl"/>
    </extension>

</plugin>
